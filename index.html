<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Amselie — Board · Blog · Galerie</title>

<link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Gloria+Hallelujah&family=Shadows+Into+Light&family=Caveat:wght@700&family=Architects+Daughter&family=Handlee&family=Amatic+SC:wght@700&family=Indie+Flower&display=swap" rel="stylesheet">

<style>
:root{
  --paper:#fff9ef; --ink:#111;
  --border:rgba(0,0,0,.25); --shadow:rgba(0,0,0,.08);
  --pin:#e74c3c; --pin-dark:#b3392c;
  --s1:#fff3b0; --s2:#baffc9; --s3:#bae1ff; --s4:#ffd6e0; --s5:#f7f7f7;
  --s6:#ffeaa7; --s7:#caffbf; --s8:#fdffb6; --s9:#ffd6a5; --s10:#e0fbfc;
  --nav:rgba(255,255,255,.75); --active:#111;
}
html,body{margin:0;padding:0}
body{
  background:var(--paper); color:var(--ink);
  font-family:"Gloria Hallelujah","Shadows Into Light","Caveat","Architects Daughter","Permanent Marker","Handlee","Amatic SC","Indie Flower",cursive,system-ui;
  line-height:1.25;
}
/* Leopard-Papier */
body::before{
  content:""; position:fixed; inset:0; z-index:-3; pointer-events:none;
  background-image:url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='500' height='500' viewBox='0 0 500 500'>\
    <defs><filter id='grain'><feTurbulence type='fractalNoise' baseFrequency='0.012' numOctaves='3'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.15'/></feComponentTransfer></filter></defs>\
    <rect width='100%' height='100%' fill='%23fff9ef'/>\
    <rect width='100%' height='100%' filter='url(%23grain)' opacity='0.6'/>\
  </svg>");
  background-size:700px 700px;
}
body::after{
  content:""; position:fixed; inset:0; z-index:-2; pointer-events:none; opacity:.32;
  background-image:url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='320' height='320' viewBox='0 0 320 320'>\
    <defs><radialGradient id='c' cx='50%' cy='50%' r='50%'><stop offset='0%' stop-color='%23110d09'/><stop offset='100%' stop-color='%23000000'/></radialGradient></defs>\
    <rect width='100%' height='100%' fill='transparent'/>\
    <g opacity='0.9' fill='url(%23c)'>\
      <ellipse cx='40' cy='50' rx='28' ry='20'/><ellipse cx='95' cy='90' rx='16' ry='12'/>\
      <ellipse cx='150' cy='45' rx='22' ry='16'/><ellipse cx='210' cy='85' rx='30' ry='22'/>\
      <ellipse cx='270' cy='40' rx='18' ry='12'/><ellipse cx='60' cy='170' rx='26' ry='18'/>\
      <ellipse cx='120' cy='200' rx='20' ry='14'/><ellipse cx='190' cy='170' rx='28' ry='20'/>\
      <ellipse cx='250' cy='210' rx='22' ry='16'/><ellipse cx='300' cy='170' rx='16' ry='12'/>\
      <ellipse cx='40' cy='280' rx='18' ry='12'/><ellipse cx='100' cy='260' rx='24' ry='18'/>\
      <ellipse cx='160' cy='300' rx='20' ry='14'/><ellipse cx='220' cy='260' rx='26' ry='18'/>\
      <ellipse cx='290' cy='290' rx='16' ry='12'/>\
    </g></svg>");
  background-size:360px 360px;
}

/* Header / Tabs / Lang */
header{
  position:sticky; top:0; z-index:20; display:flex; gap:10px; align-items:center; justify-content:space-between;
  padding:14px 14px 10px; background:linear-gradient(var(--paper) 75%, rgba(255,255,255,0));
  border-bottom:1px dashed rgba(0,0,0,.18);
}
.brand{ margin:0; font-size:clamp(22px,4.5vw,40px); font-family:"Permanent Marker",cursive; transform:rotate(-1.2deg);
  text-decoration:underline wavy rgba(0,0,0,.35); text-underline-offset:6px; }
.controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
.btn{ border:1px dashed rgba(0,0,0,.25); background:var(--nav); color:var(--ink); padding:6px 10px; border-radius:7px; cursor:pointer; font:inherit;
  box-shadow:2px 2px 0 var(--shadow); transform:rotate(.6deg);}
.btn:hover{ transform:rotate(.6deg) translateY(-1px) }
.tab{ opacity:.7 } .tab.active{ opacity:1; background:#fff; color:var(--active) }

main{ padding:20px 12px 70px }
.layer{ display:none } .layer.active{ display:block }
.max{ max-width:1200px; margin:0 auto }

/* Board-Grid */
.grid{ display:grid; gap:16px 14px; grid-template-columns:repeat(12,1fr) }
.span-4{grid-column:span 4}.span-5{grid-column:span 5}.span-6{grid-column:span 6}.span-7{grid-column:span 7}
.left{justify-self:start}.right{justify-self:end}
.sticker, .post, .cell{
  position:relative; padding:14px 16px; border:2px solid var(--border); box-shadow:4px 4px 0 var(--shadow);
  background:var(--s5);
}
/* Sticker-Farben */
.s1{background:var(--s1)} .s2{background:var(--s2)} .s3{background:var(--s3)} .s4{background:var(--s4)}
.s5{background:var(--s5)} .s6{background:var(--s6)} .s7{background:var(--s7)} .s8{background:var(--s8)} .s9{background:var(--s9)} .s10{background:var(--s10)}
/* Tilt */
.tilt-a{ transform:rotate(-2deg) } .tilt-b{ transform:rotate(1.6deg) } .tilt-c{ transform:rotate(-0.9deg) } .tilt-d{ transform:rotate(2.2deg) }
/* Deko */
.pin::after{ content:""; position:absolute; width:14px; height:14px; right:16px; top:10px;
  background:radial-gradient(circle at 35% 35%, #fff 0 30%, var(--pin) 31% 100%);
  border:1px solid var(--pin-dark); border-radius:50%; box-shadow:1px 1px 0 rgba(0,0,0,.25); }
.tape::before{ content:""; position:absolute; left:14px; top:-14px; width:94px; height:26px; opacity:.95;
  background-image:url('data:image/svg+xml;utf8,\
    <svg xmlns="http://www.w3.org/2000/svg" width="188" height="52" viewBox="0 0 188 52">\
      <defs><filter id="grain"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2"/></filter>\
      <linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="#f2e6a8"/><stop offset="1" stop-color="#eadf9a"/></linearGradient></defs>\
      <rect x="2" y="2" width="184" height="48" rx="4" fill="url(#g)" filter="url(%23grain)" opacity="0.95"/>\
      <path d="M6 6 L182 6 M6 46 L182 46" stroke="#b5ab7a" stroke-width="1" opacity="0.35"/>\
      <path d="M0 10 L188 8" stroke="#c9be8c" stroke-width="2" opacity="0.25"/>\
    </svg>'); background-size:cover; transform:rotate(-7deg); box-shadow:1px 2px 0 rgba(0,0,0,.2); }
.dogear::after{ content:""; position:absolute; right:0; top:0; width:0; height:0; border-left:18px solid transparent; border-bottom:18px solid rgba(0,0,0,.18) }

/* Fonts – Header alle verschieden */
.h1{ font-family:"Amatic SC",cursive }
.h2{ font-family:"Permanent Marker",cursive }
.h3{ font-family:"Gloria Hallelujah",cursive }
.h4{ font-family:"Caveat",cursive }
.h5{ font-family:"Architects Daughter",cursive }
.h6{ font-family:"Handlee",cursive }
.h7{ font-family:"Shadows Into Light",cursive }
.h8{ font-family:"Indie Flower",cursive }

.small{ font-size:clamp(14px,2vw,16px) }
.mid{ font-size:clamp(16px,2.4vw,18px) }
.big{ font-size:clamp(20px,3.2vw,28px) }
.xl { font-size:clamp(26px,6vw,44px) }

/* Blog overrides */
.post{ background:var(--s10) }
.post .title{ margin:0 0 8px 0 }
.post .meta{ font-family:"Handlee",cursive; opacity:.8; margin:0 0 10px 0 }
.post .excerpt{ margin:0 }

/* Galerie Grid */
.gallery-grid{ display:grid; gap:12px; grid-template-columns:repeat(12,1fr) }
.cell{ grid-column:span 3; background:#fff }
.cell::after{content:""; display:block; padding-bottom:75%}
.cell .inner{ position:absolute; inset:0; background-size:cover; background-position:center }
.caption{ padding:8px; font-family:"Architects Daughter",cursive; border-top:1px dashed rgba(0,0,0,.18) }
@media (max-width:1024px){ .cell{ grid-column:span 4 } }
@media (max-width:640px){ .cell{ grid-column:span 6 } }

/* ASCII-Klappstuhl */
pre.ascii-chair{
  font-family: monospace; line-height:1; white-space:pre;
  background:#111; color:#0f0; padding:10px; overflow:auto; border:1px dashed #0f0;
}
</style>
</head>
<body>
<header>
  <h1 class="brand" id="brand">Amselie — Board · Blog · Galerie</h1>
  <div class="controls">
    <button class="btn tab active" data-layer="board" id="tab-board">Board</button>
    <button class="btn tab" data-layer="blog" id="tab-blog">Blog</button>
    <button class="btn tab" data-layer="gallery" id="tab-gallery">Galerie</button>
    <button class="btn" onclick="setLang('de')">DE</button>
    <button class="btn" onclick="setLang('en')">EN</button>
    <button class="btn" id="resetBtn">Reset Positionen</button>
  </div>
</header>

<main>
  <!-- LAYER 1: BOARD -->
  <section class="layer active" id="layer-board">
    <div class="max">
      <div class="grid">
        <div class="span-7 left">
          <article class="sticker s8 tape tilt-a" data-id="b-title">
            <h2 class="h1 xl">Für Amelie — Amselie</h2>
            <p class="h6 mid">Pinwand für alles Echtes. Ohne Filter.</p>
          </article>
        </div>

        <!-- Zitate als einzelne Zettel -->
        <div class="span-5 right"><article class="sticker s6 pin tilt-b" data-id="b-01"><h3 class="h2 big">„Amelie malt toll“</h3></article></div>
        <div class="span-4 left"><article class="sticker s1 dogear tilt-c" data-id="b-02"><h3 class="h3 big">„Sie drückt sich gern in der Kunst aus und ist rebellisch“</h3></article></div>
        <div class="span-6 right"><article class="sticker s2 tape tilt-d" data-id="b-03"><h3 class="h4 big">„Amseli ist die beste amseli der welt“</h3></article></div>
        <div class="span-5 left"><article class="sticker s9 dogear tilt-b" data-id="b-04"><h3 class="h5 big">„Wenn amelie ein Tier wäre wäre sie ein affe“</h3></article></div>
        <div class="span-7 right"><article class="sticker s7 pin tilt-a" data-id="b-05"><h3 class="h6 big">„Amselie übertrifft jeden in Kreativität“</h3></article></div>
        <div class="span-6 left"><article class="sticker s4 tape tilt-c" data-id="b-06"><h3 class="h7 big">„Sie macht immer ihr eigenes ding.“</h3></article></div>
        <div class="span-6 right"><article class="sticker s10 dogear tilt-d" data-id="b-07"><h3 class="h8 big">„Amselie gammelt wie ne echte gammelie“</h3></article></div>
        <div class="span-4 left"><article class="sticker s3 pin tilt-b" data-id="b-08"><h3 class="h2 big">„Amselie die Amsel“</h3></article></div>
        <div class="span-5 right"><article class="sticker s6 tape tilt-a" data-id="b-09"><h3 class="h3 big">„Spikey, Cunty, Amely“</h3></article></div>
        <div class="span-7 left"><article class="sticker s1 dogear tilt-c" data-id="b-10"><h3 class="h4 big">„Eat Sleep Amelie Repeat“</h3></article></div>
        <div class="span-5 right"><article class="sticker s8 pin tilt-d" data-id="b-11"><h3 class="h5 big">„Lebensfrohe oboe“</h3></article></div>
        <div class="span-7 left"><article class="sticker s2 tape tilt-b" data-id="b-12"><h3 class="h6 big">„Der schönste Rubyn im Schmuckkasterl“</h3></article></div>
        <div class="span-6 right"><article class="sticker s9 dogear tilt-a" data-id="b-13"><h3 class="h7 big">„Amselie ist ein lufttier“</h3></article></div>
        <div class="span-6 left"><article class="sticker s4 pin tilt-c" data-id="b-14"><h3 class="h8 big">„Mein Kopf ist leer denk denk denken kann ich nicht mehr“</h3></article></div>
        <div class="span-7 right"><article class="sticker s3 tape tilt-d" data-id="b-15"><h3 class="h1 big">„Amelie Emma Roberta Antonia Brauer!“</h3></article></div>
        <div class="span-5 left"><article class="sticker s7 dogear tilt-b" data-id="b-16"><h3 class="h2 big">„Amelie hat fast Jawline“</h3></article></div>
        <div class="span-5 right"><article class="sticker s10 pin tilt-a" data-id="b-17"><h3 class="h3 big">„Amelie Schwammelie“</h3></article></div>
        <div class="span-7 left"><article class="sticker s6 tape tilt-c" data-id="b-18"><h3 class="h4 big">„Amelie is einfach da Wahn!“</h3></article></div>

        <!-- ASCII-Klappstuhl -->
        <div class="span-6 right">
          <article class="sticker s5 pin tilt-b" data-id="b-chair">
            <h3 class="h5 big">TXT — Klappstuhl</h3>
            <pre class="ascii-chair">
  ______
 |      |
 |      |
\__    __/
   \__/
   /  \
  /    \
            </pre>
          </article>
        </div>
      </div>
    </div>
  </section>

  <!-- LAYER 2: BLOG -->
  <section class="layer" id="layer-blog">
    <div class="max blog">
      <article class="post tilt-a" data-id="l2-a">
        <h2 class="title h1">Notizbuch #1</h2>
        <p class="meta">aus dem Freundeskreis</p>
        <p class="excerpt h6">„Amselie übertrifft jeden in Kreativität.“</p>
        <p class="excerpt h6">„Sie macht immer ihr eigenes ding.“</p>
      </article>

      <article class="post tilt-b" data-id="l2-b">
        <h2 class="title h2">Notizbuch #2</h2>
        <p class="meta">random thoughts</p>
        <p class="excerpt h5">„Eat Sleep Amelie Repeat“ · „Amselie die Amsel“</p>
      </article>

      <article class="post tilt-b" data-id="l2-c">
        <h2 class="title h4">Notizbuch #3</h2>
        <p class="meta">klebezettel</p>
        <p class="excerpt h8">„Der schönste Rubyn im Schmuckkasterl.“</p>
        <p class="excerpt h8">„Lebensfrohe oboe.“</p>
      </article>

      <article class="post tilt-a" data-id="l2-d">
        <h2 class="title h5">Notizbuch #4</h2>
        <p class="meta">nachts</p>
        <p class="excerpt h7">„Mein Kopf ist leer denk denk denken kann ich nicht mehr.“</p>
      </article>
    </div>
  </section>

  <!-- LAYER 3: GALERIE -->
  <section class="layer" id="layer-gallery">
    <div class="max">
      <div class="sticker s7 tape tilt-b" style="margin-bottom:16px" data-id="l3-intro">
        <h3 class="h3 big">Galerie</h3>
        <p class="h6 mid">Platzhalter & Zettel bis echte Bilder kommen.</p>
      </div>

      <div class="gallery-grid">
        <div class="cell tilt-a" data-id="g-1">
          <div class="inner" style="background:#fff url('data:image/svg+xml;utf8, \
            <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 800 600%22><rect width=%22800%22 height=%22600%22 fill=%23ffffff/> \
            <rect x=%2260%22 y=%2260%22 width=%22680%22 height=%22480%22 fill=none stroke=%23000 stroke-width=%226%22/></svg>') center/cover no-repeat"></div>
          <div class="caption h6">„Amseli ist die beste amseli der welt.“</div>
        </div>

        <div class="cell tilt-c" data-id="g-2">
          <div class="inner" style="background:#fff url('data:image/svg+xml;utf8, \
            <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 800 600%22><rect width=%22800%22 height=%22600%22 fill=%23ffffff/> \
            <circle cx=%22400%22 cy=%22300%22 r=%22180%22 fill=none stroke=%23000 stroke-width=%226%22 stroke-dasharray=%228 10%22/></svg>') center/cover no-repeat"></div>
          <div class="caption h6">„Amselie ist ein lufttier.“</div>
        </div>

        <div class="cell tilt-d" data-id="g-3">
          <div class="inner" style="background:#fff url('data:image/svg+xml;utf8, \
            <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 800 600%22><rect width=%22800%22 height=%22600%22 fill=%23ffffff/> \
            <polyline points=%2260,520 140,420 220,520 300,420 380,520 460,420 540,520 620,420 700,520%22 fill=none stroke=%23000 stroke-width=%226%22 stroke-dasharray=%226 10%22/></svg>') center/cover no-repeat"></div>
          <div class="caption h6">„Spikey, Cunty, Amely.“</div>
        </div>

        <div class="cell tilt-b" data-id="g-4">
          <div class="inner" style="background:#fff url('data:image/svg+xml;utf8, \
            <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 800 600%22><rect width=%22800%22 height=%22600%22 fill=%23ffffff/> \
            <path d=%22M60 480 L740 180%22 stroke=%23000 stroke-width=%226%22 stroke-dasharray=%2210 12%22 fill=none/></svg>') center/cover no-repeat"></div>
          <div class="caption h6">„Amelie Schwammelie.“</div>
        </div>
      </div>
    </div>
  </section>
</main>

<script>
/* ===== Tabs + Sprache (Labels only) ===== */
const T = {
  de: { brand:"Amselie — Board · Blog · Galerie", tabs:{board:"Board",blog:"Blog",gallery:"Galerie"} },
  en: { brand:"Amselie — Board · Blog · Gallery", tabs:{board:"Board",blog:"Blog",gallery:"Gallery"} }
};
function setLang(lang){
  localStorage.setItem('lang', lang);
  const c = T[lang] || T.de;
  document.getElementById('brand').textContent = c.brand;
  document.getElementById('tab-board').textContent = c.tabs.board;
  document.getElementById('tab-blog').textContent = c.tabs.blog;
  document.getElementById('tab-gallery').textContent = c.tabs.gallery;
  document.documentElement.lang = (lang==='en'?'en':'de');
}
const tabs = document.querySelectorAll('.tab');
function setLayer(id){
  document.querySelectorAll('.layer').forEach(l=>l.classList.remove('active'));
  document.getElementById('layer-'+id).classList.add('active');
  tabs.forEach(t=>t.classList.toggle('active', t.dataset.layer===id));
  localStorage.setItem('layer', id);
  initDragForActiveLayer(); // (re)bind for visible layer
}
tabs.forEach(t=>t.addEventListener('click', ()=>setLayer(t.dataset.layer)));
setLang(localStorage.getItem('lang')||'de');
setLayer(localStorage.getItem('layer')||'board');

/* ===== Drag & Drop mit Persistenz (per data-id) ===== */
const STORAGE_KEY = 'amselie_positions_v1';

function getPositions(){
  try{ return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {}; }catch(e){ return {}; }
}
function setPositions(map){ localStorage.setItem(STORAGE_KEY, JSON.stringify(map)); }

function saveTransform(layerId, el){
  const id = el.dataset.id; if(!id) return;
  const map = getPositions();
  if(!map[layerId]) map[layerId]={};
  map[layerId][id] = el.style.transform || '';
  setPositions(map);
}
function loadTransformsFor(layerId){
  const map = getPositions()[layerId] || {};
  Object.entries(map).forEach(([id, tfm])=>{
    const el = document.querySelector(`#layer-${layerId} [data-id="${id}"]`);
    if(el) el.style.transform = tfm;
  });
}
function resetAll(){
  localStorage.removeItem(STORAGE_KEY);
  document.querySelectorAll('[data-id]').forEach(el=>{ el.style.transform=''; });
}

/* Pointer-based dragging that preserves existing rotation in CSS */
function makeDraggable(el, layerId){
  el.style.touchAction = 'none';
  el.style.cursor = 'move';

  let dragging=false, startX=0, startY=0, startDX=0, startDY=0, base='';

  const readOffsets = ()=>{
    // Parse current transform to find existing translate
    const tfm = getComputedStyle(el).transform;
    base = (tfm && tfm !== 'none') ? tfm : '';
    // If a previous translate was applied via style, keep base without last translate
    const styleTfm = el.style.transform;
    if(styleTfm && styleTfm.includes('translate(')){
      base = styleTfm.replace(/\s?translate\([^)]*\)/g,'').trim();
    }
    const m = (el.style.transform.match(/translate\(([-\d.]+)px,\s*([-\d.]+)px\)/) || []);
    startDX = parseFloat(m[1] || 0);
    startDY = parseFloat(m[2] || 0);
  };

  el.addEventListener('pointerdown', (e)=>{
    dragging=true; el.setPointerCapture(e.pointerId);
    startX=e.clientX; startY=e.clientY; readOffsets();
    el.style.zIndex=999;
    e.preventDefault();
  });
  el.addEventListener('pointermove', (e)=>{
    if(!dragging) return;
    const dx = startDX + (e.clientX - startX);
    const dy = startDY + (e.clientY - startY);
    const prefix = base && base!=='none' ? base + ' ' : '';
    el.style.transform = `${prefix}translate(${dx}px, ${dy}px)`;
  });
  const end = (e)=>{
    if(!dragging) return;
    dragging=false; el.style.zIndex='';
    saveTransform(layerId, el);
    try{ el.releasePointerCapture(e.pointerId); }catch(_){}
  };
  el.addEventListener('pointerup', end);
  el.addEventListener('pointercancel', end);
  el.addEventListener('lostpointercapture', end);
}

function initDragForActiveLayer(){
  const layerEl = document.querySelector('.layer.active');
  if(!layerEl) return;
  const layerId = layerEl.id.replace('layer-','');
  // bind
  layerEl.querySelectorAll('[data-id]').forEach(el=>makeDraggable(el, layerId));
  // load saved transforms
  loadTransformsFor(layerId);
}

/* Reset button */
document.getElementById('resetBtn').addEventListener('click', ()=>{
  resetAll();
});

/* boot */
initDragForActiveLayer();
</script>
</body>
</html>
